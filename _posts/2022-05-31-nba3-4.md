---
title:  "ë‚´ì¼ë°°ì›€ë‹¨ App3.4"
categories: SpartaApp
toc: true
toc_sticky: true
sidebar:
    nav: docs
---

# [ì•±ê°œë°œ ì¢…í•©ë°˜] 3ì£¼ 4ì¼ì°¨ ê°œë°œì¼ì§€(3ì£¼ 6-7ê°•, ìˆ™ì œ)

<br>

## ğŸ“±TIL App.304

## 1. Expoì˜ ë‹¤ì–‘í•œ ì•± ê¸°ëŠ¥ ì•Œì•„ë³´ê¸°

### 1) í˜ì´ì§€ ë‚´ìš© ê³µìœ í•˜ê¸°

```js
import { Share } from "react-native";
```
ë‚´ìš© ê³µìœ  ê¸°ëŠ¥ì€ `react-native`ì—ì„œ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•´ ì£¼ë¯€ë¡œ, ì½”ë“œ ìƒë‹¨ì— ìœ„ ì½”ë“œë¥¼ ì‘ì„±í•´ì£¼ë©´ ëœë‹¤. ê³µìœ  ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ DetailPageì— 'íŒ ê³µìœ í•˜ê¸°' ë²„íŠ¼ì„ ì¶”ê°€í•´ ì¤€ë‹¤. 
<br>

```js
// DetailPage.js
import React, { useState, useEffect } from 'react';
import { StyleSheet, Text, View, Image, ScrollView, TouchableOpacity, Alert, Share } from 'react-native';

export default function DetailPage({navigation,route}) {

  const [tip, setTip] = useState({
    "idx":9,
    "category":"ì¬í…Œí¬",
    "title":"ë Œíƒˆ ì„œë¹„ìŠ¤ ê¸ˆì•¡ ë¹„êµí•´ë³´ê¸°",
    "image": "https://storage.googleapis.com/sparta-image.appspot.com/lecture/money1.png",
    "desc":"ìš”ì¦˜ì€ ì •ìˆ˜ê¸°, ... ",
    "date":"2020.09.09"
  })
  
  useEffect(()=>{
    console.log(route)
    navigation.setOptions({
      title:route.params.title,
      headerStyle: {
        backgroundColor: '#000',
        shadowColor: "#000",
      },
      headerTintColor: "#fff",
    })
    setTip(route.params)
  },[])

  const popup = () => {
    Alert.alert("íŒì—…!!")
  }

  const share = () => {
    Share.share({
      message:`${tip.title} \n\n ${tip.desc} \n\n ${tip.image}`,
    });
  }

  return ( 
    <ScrollView style={styles.container}>
      <Image style={styles.image} source={% raw %}{{uri:tip.image}}{% endraw %}/>
      <View style={styles.textContainer}>
        <Text style={styles.title}>{tip.title}</Text>
        <Text style={styles.desc}>{tip.desc}</Text>
        <View style={styles.buttonGroup}>
          <TouchableOpacity style={styles.button} onPress={()=>popup()}><Text style={styles.buttonText}>íŒ ì°œí•˜ê¸°</Text></TouchableOpacity>
          <TouchableOpacity style={styles.button} onPress={()=>share()}><Text style={styles.buttonText}>íŒ ê³µìœ í•˜ê¸°</Text></TouchableOpacity>
        </View>
      </View>
    </ScrollView>
  )
}
```
ì½”ë“œë¥¼ ì‚´í´ë³´ë©´, ì½”ë“œ ìµœìƒë‹¨ì— `Share` ë„êµ¬ë¥¼ ê°€ì ¸ì˜¨ ê²ƒ, `share` í•¨ìˆ˜ë¥¼ ì„¤ì •í•œ ê²ƒ, 'íŒ ê³µìœ í•˜ê¸°' ë²„íŠ¼ì— `onPress` ì†ì„±ìœ¼ë¡œ `share` í•¨ìˆ˜ë¥¼ ì—°ê²°í•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ì‹¤ì œë¡œ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì¹´í†¡ì— ê³µìœ í•  ë•Œ, ë§í¬ê°€ ì•„ë‹Œ ê¿€íŒ ì œëª©, ì„¤ëª…, ì´ë¯¸ì§€ ì£¼ì†Œê°€ í…ìŠ¤íŠ¸ë¡œ ì „ë‹¬ëœë‹¤. ì´ëŠ” `share` í•¨ìˆ˜ì˜ `message`ê°€ ì „ë‹¬ëœ ê²ƒì´ë¼ ë³¼ ìˆ˜ ìˆë‹¤. ì´ì²˜ëŸ¼, `message` key ê°’ì—ëŠ” ê³µìœ í•˜ê³  ì‹¶ì€ ë‚´ìš©ì„ ì…ë ¥í•œë‹¤. ìš°ë¦¬ê°€ ìì£¼ ë³´ëŠ”, ì¸ë„¤ì¼ê³¼ ì¸í„°ë„· ì£¼ì†Œë¥¼ ê³µìœ í•˜ëŠ” ë°©ì‹ì€ ë‹¤ìŒì— ë‹¤ë£¨ë„ë¡ í•œë‹¤.
<br>

<figure class="half">
  <a href="../../assets/images/a03_presharing.jpg"><img src="../../assets/images/a03_presharing.jpg"></a>
  <a href="../../assets/images/a03_sharing.jpg"><img src="../../assets/images/a03_sharing.jpg"></a>
</figure>
<br>

### 2) ì™¸ë¶€ ë§í¬ í´ë¦­ ì´ë²¤íŠ¸

```
expo install expo-linking
```
ì•±ì—ì„œ íœ´ëŒ€í°ì— ì„¤ì¹˜ëœ ì›¹ ë¸Œë¼ìš°ì €ë¡œ ì™¸ë¶€ ë§í¬ë¥¼ ì—¬ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ì. 'ì´ë²¤íŠ¸'ë€ í•¨ìˆ˜ ê¸°ëŠ¥ì„ ëœ»í•œë‹¤. ì™¸ë¶€ ë§í¬ ë„êµ¬ëŠ” `expo-linking`ì´ë¼ëŠ” ë„êµ¬ë¥¼ ìœ„ ì½”ë“œë¥¼ í„°ë¯¸ë„ì— ì…ë ¥í•´ ì„¤ì¹˜í•´ì•¼ í•œë‹¤.
<br>

```js
// DetailPage.js
import * as Linking from 'expo-linking';

export default function DetailPage({navigation,route}) {

  const link = () => {
    Linking.openURL("https://spartacodingclub.kr")
  }

  return(
    ...
    <View style={styles.buttonGroup}>
      <TouchableOpacity style={styles.button} onPress={()=>popup()}><Text style={styles.buttonText}>íŒ ì°œí•˜ê¸°</Text></TouchableOpacity>
      <TouchableOpacity style={styles.button} onPress={()=>share()}><Text style={styles.buttonText}>íŒ ê³µìœ í•˜ê¸°</Text></TouchableOpacity>
      <TouchableOpacity style={styles.button} onPress={()=>link()}><Text style={styles.buttonText}>ì™¸ë¶€ ë§í¬</Text></TouchableOpacity>
    </View>
  )
}
```
ë„êµ¬ ì„¤ì¹˜ í›„, ì„¤ì¹˜í•œ ë„êµ¬ëŠ” ì½”ë“œì˜ ìµœìƒë‹¨ì— `import`í•´ì„œ ì‚¬ìš©í•œë‹¤. ë¶ˆëŸ¬ì˜¨ ëª¨ìŠµì„ ë³´ë©´ `* as Linking`ì´ë¼ëŠ” ìƒì†Œí•œ ëª¨ìŠµì¸ë°, ì´ëŠ” `expo-linking`ì„ ëª¨ë‘ ê°€ì§€ê³  ì˜¤ëŠ”ë°, ê°€ì§€ê³  ì˜¬ ë•Œ ê·¸ ë„êµ¬ì˜ ì´ë¦„ì„ 'Linking'ìœ¼ë¡œ ì„¤ì •í•œë‹¤ëŠ” ëœ»ì´ë‹¤. `Linking`ì„ ë¶ˆëŸ¬ì˜¨ ì´í›„ì—ëŠ” ìœ„ ì½”ë“œì²˜ëŸ¼ `Linking`ì˜ `openURL` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ì—°ê²°í•˜ê³ ì í•˜ëŠ” ë§í¬ë¥¼ ì…ë ¥í•  ìˆ˜ ìˆë‹¤. ë²„íŠ¼ì„ ëˆŒëŸ¬ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ ì…ë ¥í•œ URLì´ íœ´ëŒ€í°ì˜ ê¸°ë³¸ ë¸Œë¼ìš°ì €ì—ì„œ ì—´ë¦°ë‹¤. 

<br>

## 3ì£¼ì°¨ ìˆ™ì œ(1) AboutPage.js í˜ì´ì§€í™”/ë²„íŠ¼ ì¶”ê°€í•˜ê¸°

### 1) ê²°ê³¼ ì´ë¯¸ì§€

<figure class="half">
  <a href="../../assets/images/a03_hw01a.jpg"><img src="../../assets/images/a03_hw01a.jpg"></a>
  <a href="../../assets/images/a03_hw01b.jpg"><img src="../../assets/images/a03_hw01b.jpg"></a>
</figure>
<br>

### 2) ì½”ë“œ ì„¤ê³„ë…¸íŠ¸

MainPageì— `<TouchableOpacity>` íƒœê·¸ë¡œ ë²„íŠ¼ì„ ì¶”ê°€í•˜ê³ , ë²„íŠ¼ì˜ `onPress` ì†ì„±ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ë‹¬ì•„ì•¼ê² ë‹¤. í•¨ìˆ˜ëŠ” `navigation.navigate`ë¥¼ ì‚¬ìš©í•´ `AboutPage.js` íŒŒì¼ë¡œ ì—°ê²°ë˜ë„ë¡ í•´ì•¼ì§€. ê·¸ëŸ¬ë ¤ë©´ `StackNavigator.js`ì— `AboutPage.js` íŒŒì¼ì„ `Stack.Screen`ìœ¼ë¡œ ì—°ê²°ì‹œì¼œì•¼ê² ë‹¤. `Stack.Navigator`ë¼ëŠ” ì±…ê°ˆí”¼ì— ì´ë™í•  í˜ì´ì§€ë¥¼ ê½‚ì•„ë‘ëŠ” ëŠë‚Œìœ¼ë¡œ! ê·¸ë³´ë‹¤ ë¨¼ì € ì‚¬ìš©í•  í˜ì´ì§€ë¥¼ `StackNavigator.js` íŒŒì¼ì— `import`í•´ì™€ì•¼ í•œë‹¤.

<br>

---

'MainPage'ì—ì„œì˜ ë²„íŠ¼, ê·¸ë¦¬ê³  ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ 'AboutPage'ë¡œ ì´ë™í•˜ëŠ” ê²ƒê¹Œì§€ëŠ” êµ¬í˜„í–ˆë‹¤. ë‹¤ìŒìœ¼ë¡œ 'AboutPage'ì˜ í—¤ë” ìŠ¤íƒ€ì¼ì„ ë°”ê¾¸ë ¤ê³  í–ˆëŠ”ë° ìŠ¤ìŠ¤ë¡œ í•´ë³´ë ¤ë‹ˆ ì¡°ê¸ˆ ì–´ë ¤ì› ë‹¤. `DetailPage.js` íŒŒì¼ì—ì„œëŠ” `useEffect` í•¨ìˆ˜ ì•ˆì— `navigation.setOptions`ê°€ ì‚¬ìš©ë˜ì—ˆëŠ”ë°, `AboutPage.js` íŒŒì¼ì—ì„œ ìƒíƒœ ê´€ë¦¬ë¥¼ í•˜ëŠ” ê²ƒì€ ì•„ë‹Œ ê²ƒ ê°™ì•˜ë‹¤. `StackNavigator.js` íŒŒì¼ì—ì„œì˜ `name` ì†ì„±ì„ "ì†Œê°œ í˜ì´ì§€"ë¡œ ë°”ê¾¸ëŠ” ë°©ë²•ë„ ìœ íš¨í–ˆì§€ë§Œ, `setOptions` í•¨ìˆ˜ í˜•íƒœì²˜ëŸ¼ í—¤ë” ìŠ¤íƒ€ì¼ì„ ë°”ê¾¸ëŠ” ë‹¤ë¥¸ ë°©ë²•ì´ ìˆì„ê¹Œ ì‹¶ì–´ [ê³µì‹ ë¬¸ì„œ][1]ë¥¼ ì°¾ì•„ë´¤ë‹¤. 
<br>

ì˜ˆì‹œ ì½”ë“œë¥¼ ë³´ë‹ˆ, `StackNavigator.js` íŒŒì¼ì˜ `<Stack.Screen>` íƒœê·¸ì— `options` ì†ì„±ìœ¼ë¡œ `title`, `headerStyle`, `headerTintColor` ë“± ì—¬ëŸ¬ ì†ì„±ì„ ì§€ì •í•  ìˆ˜ ìˆì—ˆë‹¤. ìƒˆë¡œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í˜ì´ì§€ ìì²´ì˜ í—¤ë” ìŠ¤íƒ€ì¼ì„ ë³€ê²½í•˜ê³  ì‹¶ì—ˆê¸° ë•Œë¬¸ì—, íƒœê·¸ì— `options` ì†ì„±ì„ ì‚¬ìš©í–ˆë‹¤. í°ìƒ‰ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆë˜ `borderBottomColor`ì™€ `shadowColor` ì†ì„±ë„ ë°°ê²½ìƒ‰ê³¼ ê°™ì€ ìƒ‰ìœ¼ë¡œ ë°”ê¾¸ì–´ ì£¼ì—ˆë‹¤. MainPageì—ì„œ ê²€ì€ìƒ‰ìœ¼ë¡œ ì„¤ì •ëœ ì•± ìƒíƒœ ë°”ê°€ AboutPageì—ì„œëŠ” ì˜ ë³´ì´ì§€ ì•Šì•„ì„œ, `AboutPage.js` íŒŒì¼ì— `StatusBar`ë¥¼ ë¶ˆëŸ¬ì˜¨ ë‹¤ìŒ íƒœê·¸ë¥¼ ë„£ê³  `light`ë¡œ ì„¤ì •í•´ ì£¼ì—ˆë‹¤.

<br>

### 3) ë‚˜ì˜ ì½”ë“œ

```js
// StackNavigator.js
import React from 'react';
import { createStackNavigator } from '@react-navigation/stack';

import MainPage from '../pages/MainPage';
import DetailPage from '../pages/DetailPage';
import AboutPage from '../pages/AboutPage';

const Stack = createStackNavigator();

const StackNavigator = () => {
  return (
    <Stack.Navigator
      screenOptions={% raw %}{{
        headerStyle: {
          backgroundColor: "white",
          borderBottomColor: "white",
          shadowColor: "white",
          height:100
        },
        headerTitleAlign:'left',
        headerTitleStyle: {
          fontSize: 18,
          paddingLeft: 5
        },
        headerTintColor: "#000",
        headerBackTitleVisible: false
      }}{% endraw %}
    >
      <Stack.Screen name="MainPage" component={MainPage}/>
      <Stack.Screen name="DetailPage" component={DetailPage}/>
      <Stack.Screen name="AboutPage" component={AboutPage} options={% raw %}{{
        title: "ì†Œê°œ í˜ì´ì§€",
        headerStyle: {
          backgroundColor: "#001064",
          borderBottomColor: "#001064",
          shadowColor: "#001064",
        },
        headerTintColor: "#fff"
        }}{% endraw %}/>
    </Stack.Navigator>
  )
}

export default StackNavigator;
```

```js
// MainPage.js
import React, { useState, useEffect } from 'react';
import main from '../assets/main.png';
import { StyleSheet, Text, View, Image, TouchableOpacity, ScrollView } from 'react-native';
import data from '../data.json';
import Card from '../components/Card';
import Loading from '../components/Loading';
import { StatusBar } from 'expo-status-bar';

export default function MainPage({navigation,route}) {
  console.disableYellowBox = true;

  const [state,setState] = useState([])
  const [cateState,setCateState] = useState([])
  const [ready,setReady] = useState(true)

  useEffect(()=>{
    setTimeout(()=>{
      navigation.setOptions({
        title:'ë‚˜ë§Œì˜ ê¿€íŒ'
      })
      let tip = data.tip;
      setState(tip)
      setCateState(tip)
      setReady(false)
    },1000)
  },[])

    const category = (cate) => {
      if (cate == "ì „ì²´ë³´ê¸°") {
        setCateState(state)
      } else {
        setCateState (state.filter((d)=>{
          return d.category == cate
        }))
      }
    }

    let todayWeather = 10 + 17;
    let todayCondition = "íë¦¼"

	  return ready ? <Loading/> : (
      <ScrollView style={styles.container}>
        <StatusBar style="black" />
        <Text style={styles.weather}>ì˜¤ëŠ˜ì˜ ë‚ ì”¨: {todayWeather + 'Â°C ' + todayCondition} </Text>
        <TouchableOpacity style={styles.aboutButton} onPress={() => {
        navigation.navigate('AboutPage')}}><Text style={styles.middleButtonText}>ì†Œê°œ í˜ì´ì§€</Text></TouchableOpacity>
        <Image style={styles.mainImage} source={main}/>
        <ScrollView style={styles.middleContainer} horizontal indicatorStyle={"white"}>
          <TouchableOpacity style={styles.middleButtonAll} onPress={()=>{category('ì „ì²´ë³´ê¸°')}}><Text style={styles.middleButtonTextAll}>ì „ì²´ë³´ê¸°</Text></TouchableOpacity>
          <TouchableOpacity style={styles.middleButton01} onPress={()=>{category('ìƒí™œ')}}><Text style={styles.middleButtonText}>ìƒí™œ</Text></TouchableOpacity>
          <TouchableOpacity style={styles.middleButton02} onPress={()=>{category('ì¬í…Œí¬')}}><Text style={styles.middleButtonText}>ì¬í…Œí¬</Text></TouchableOpacity>
          <TouchableOpacity style={styles.middleButton03} onPress={()=>{category('ë°˜ë ¤ê²¬')}}><Text style={styles.middleButtonText}>ë°˜ë ¤ê²¬</Text></TouchableOpacity>
          <TouchableOpacity style={styles.middleButton04} onPress={()=>{category('ê¿€íŒ ì°œ')}}><Text style={styles.middleButtonText}>ê¿€íŒ ì°œ</Text></TouchableOpacity>
        </ScrollView>
        <View style={styles.cardContainer}>
          {
            cateState.map((content,i)=>{
              return (<Card content={content} key={i} navigation={navigation}/>)
            })
          }
        </View>
      </ScrollView>
  );
}

const styles = StyleSheet.create({
  container: {
    backgroundColor: '#fff',
  },
  weather:{
    alignSelf:"flex-end",
    paddingRight:20
  },
  aboutButton: {
    width:100,
    height:45,
    padding:10,
    backgroundColor:"lightpink",
    borderRadius:15,
    marginTop: 10,
    marginRight: 20,
    alignSelf: "flex-end",
    justifyContent: "center",
    alignItems: "center"
  },
  mainImage: {
    width:'90%',
    height:200,
    borderRadius:10,
    marginTop:20,
    alignSelf:"center"
  },
  middleContainer:{
    marginTop:20,
    marginLeft:10,
    height:60
  },
  middleButtonAll: {
    width:100,
    height:50,
    padding:15,
    backgroundColor:"#20b2aa",
    borderRadius:15,
    margin:7,
    justifyContent: "center",
    alignItems: "center"
  },
  middleButton01: {
    width:100,
    height:50,
    padding:15,
    backgroundColor:"#fdc453",
    borderColor:"deeppink",
    borderRadius:15,
    margin:7,
    justifyContent: "center",
    alignItems: "center"
  },
  middleButton02: {
    width:100,
    height:50,
    padding:15,
    backgroundColor:"#fe8d6f",
    borderRadius:15,
    margin:7,
    justifyContent: "center",
    alignItems: "center"
  },
  middleButton03: {
    width:100,
    height:50,
    padding:15,
    backgroundColor:"#9adbc5",
    borderRadius:15,
    margin:7,
    justifyContent: "center",
    alignItems: "center"
  },
  middleButton04: {
    width:100,
    height:50,
    padding:15,
    backgroundColor:"#f886a8",
    borderRadius:15,
    margin:7,
    justifyContent: "center",
    alignItems: "center"
  },
  middleButtonText: {
    color:"#fff",
    fontWeight:"700"
  },
  middleButtonTextAll: {
    color:"#fff",
    fontWeight:"700"
  },
  cardContainer: {
    marginTop:10,
    marginLeft:10
  }
});
```

```js
// AboutPage.js
import React from 'react';
import { StyleSheet, Text, View, Image, TouchableOpacity } from 'react-native';
import about from '../assets/about.png'
import { StatusBar } from 'expo-status-bar';

export default function AboutPage() {
  console.disableYellowBox = true;

  return (
    <View style={styles.container}>
      <StatusBar style="light" />
      <View style={styles.titleContainer}>
        <Text style={styles.titleText}>ì•ˆë…•í•˜ì„¸ìš”!{'\n'}ìŠ¤íŒŒë¥´íƒ€ì½”ë”© ì•± ê°œë°œë°˜ì—{'\n'}ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.</Text>
      </View>
      <View style={styles.innerContainer}>
        <Image
          source={about}
          resizeMode={"cover"}
          style={styles.imageStyle}
        />
        <Text style={styles.subText}>ë§ì€ ë‚´ìš©ì„{'\n'}ê°„ê²°í•˜ê²Œ ë‹´ì•„ë‚´ë ¤{'\n'}ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤!</Text>
        <Text style={styles.descText}>ê¼­ ì™„ì£¼í•˜ì…”ì„œ{'\n'}ì—¬ëŸ¬ë¶„ ê²ƒìœ¼ë¡œ{'\n'}ë§Œë“¤ì–´ê°€ì‹œê¸¸ ë°”ëë‹ˆë‹¤.</Text>
        <TouchableOpacity style={styles.button}><Text style={styles.buttonText}>Instagram</Text></TouchableOpacity>
      </View>
    </View>
  )
}

const styles = StyleSheet.create({
  container: {
    flex: 1,
    alignItems: "center",
    backgroundColor: "#001064"
  },
  titleContainer: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center"
  },
  titleText: {
    color: "#fff",
    fontSize: 30,
    fontWeight: "bold",
    textAlign: "center",
    marginTop: 5
  },
  innerContainer: {
    flex: 3,
    width: "82%",
    borderRadius: 30,
    marginBottom: 50,
    backgroundColor: "#fff",
    justifyContent: "center",
    alignItems: "center"
  },
  imageStyle: {
    width: 150,
    height: 150,
    borderRadius: 30,
    marginBottom: 10
  },
  subText: {
    fontSize: 21,
    fontWeight: "bold",
    textAlign: "center",
    marginVertical: 15
  },
  descText: {
    fontWeight: "bold",
    fontSize: 16,
    textAlign: "center",
    marginVertical: 10
  },
  button: {
    width: 110,
    height: 50,
    backgroundColor: "orange",
    borderRadius: 15,
    justifyContent: "center",
    alignItems: "center",
    marginTop: 15
  },
  buttonText: {
    color: "white",
    fontWeight: "600"
  }
})
```
<br>

### 4) í•´ì„¤ ì½”ë“œ

```js
// AboutPage.js
export default function AboutPage({navigation,route}){

  useEffect(()=>{
    navigation.setOptions({
      title:"ì†Œê°œ í˜ì´ì§€",
      headerStyle: {
        backgroundColor: '#1F266A',
        shadowColor: "#1F266A",
      },
      headerTintColor: "#fff",
    })
  },[])
}
```

í•´ì„¤ ì½”ë“œë¥¼ ë³´ê³  ë‚´ê°€ í—·ê°ˆë ¸ë˜ ë¶€ë¶„ì„ ì•Œì•„ì°¨ë ¸ë‹¤. **`useEffect`ëŠ” ìƒíƒœì™€ ì•„ë¬´ ê´€ë ¨ì´ ì—†ëŠ” ë³„ê°œì˜ ì˜ì—­ì´ë‹¤.** `useEffect`ëŠ” ë‹¨ì§€ í™”ë©´ì´ ê·¸ë ¤ì§€ê³  ë‚œ í›„ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì¼ ë¿ì´ë‹¤. ê·¸ í•¨ìˆ˜ì— ìƒíƒœê°’ì„ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ê°€ ë“¤ì–´ìˆì„ ë¿, ë‘˜ì„ ì—®ì–´ì„œ ìƒê°í•œ ê²ƒì´ ë¬¸ì œì˜€ë‹¤. ê·¸ë˜ì„œ ë‚˜ëŠ” `StackNavigator.js` íŒŒì¼ì˜ í˜ì´ì§€ íƒœê·¸ì—ì„œ `options` ì†ì„±ì„ í™œìš©í–ˆì§€ë§Œ, `useEffect`ë¡œ í•´ë‹¹ í˜ì´ì§€ íŒŒì¼ ë‚´ì—ì„œ `setOptions` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. `navigation`ì„ ì‚¬ìš©í•´ì•¼ í•˜ë¯€ë¡œ `AboutPage` í•¨ìˆ˜ parameterë¡œ `{navigation, route}`ë¥¼ ì¤€ ê²ƒë„ ì²´í¬í•˜ì. 

<br>

## 3ì£¼ì°¨ ìˆ™ì œ(2) ê¿€íŒ ì°œ í™”ë©´ ë§Œë“¤ê¸°

ë‘ ë²ˆì§¸ ìˆ™ì œëŠ”, ì œì¼ ëì— ìœ„ì¹˜í•œ 'ê¿€íŒ ì°œ' ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ, 'ì°œ'í•œ íŒë“¤ì„ ëª¨ì•„ë³´ëŠ” í˜ì´ì§€ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì´ë‹¤. ì‹¤ì œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²ƒì€ ë°°ìš°ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—, ë°ì´í„° ê°’ì„ ë°›ì•„ì„œ í™”ë©´ì„ êµ¬ì„±í•´ë³´ì. ë˜, `Card.js`ì™€ ë˜‘ê°™ì€ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, 'ì°œ í˜ì´ì§€'ì—ì„œë§Œ ì‚¬ìš©ë  `LikeCard.js` component íŒŒì¼ë„ ë§Œë“¤ì–´ë³´ì. 
<br>

### 1) ê²°ê³¼ ì´ë¯¸ì§€

<figure class="half">
  <a href="../../assets/images/a03_hw02a.jpg"><img src="../../assets/images/a03_hw02a.jpg"></a>
  <a href="../../assets/images/a03_hw02b.jpg"><img src="../../assets/images/a03_hw02b.jpg"></a>
</figure>
<br>

### 2) ì½”ë“œ ì„¤ê³„

ìƒˆë¡œìš´ í˜ì´ì§€ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ë¯€ë¡œ `LikePage.js` íŒŒì¼ì„ `pages` í´ë”ì— ìƒì„±í•œë‹¤. ë‹¤ìŒìœ¼ë¡œ í•´ë‹¹ í˜ì´ì§€ë¥¼ `StackNavigator` í´ë”ì— `import`, `<Stack.Screen>` íƒœê·¸ì— ì—°ê²°í•œ í›„ `MainPage.js`ì—ì„œ 'ê¿€íŒ ì°œ' ë²„íŠ¼ì— `onPress`ë¡œ `navigate` í•¨ìˆ˜ë¥¼ ì—°ê²°í•œë‹¤. `Card.js` ì½”ë“œì™€ ê°™ì€ ì½”ë“œì¸ `LikeCard.js` íŒŒì¼ì„ `component` í´ë”ì— ìƒì„±í•˜ê³ , ìœ„ì˜ ê¸°ë³¸ ë°ì´í„°ê°€ ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ì— ì‚¬ìš©ë  ìˆ˜ ìˆë„ë¡ í•œë‹¤. 

<br>

### 3) ë‚˜ì˜ ì½”ë“œ

```js
// MainPage.js
<TouchableOpacity style={styles.middleButton04} onPress={() => {
  navigation.navigate('LikePage')}}>
  <Text style={styles.middleButtonText}>ê¿€íŒ ì°œ</Text>
</TouchableOpacity>
```

```js
// StackNavigator.js
import React from 'react';
import { createStackNavigator } from '@react-navigation/stack';

import MainPage from '../pages/MainPage';
import DetailPage from '../pages/DetailPage';
import AboutPage from '../pages/AboutPage';
import LikePage from '../pages/LikePage';

const Stack = createStackNavigator();

const StackNavigator = () => {
  return (
    <Stack.Navigator
      screenOptions={% raw %}{{
        headerStyle: {
          backgroundColor: "white",
          borderBottomColor: "white",
          shadowColor: "white",
          height:100
        },
        headerTitleAlign:'left',
        headerTitleStyle: {
          fontSize: 18,
          paddingLeft: 5
        },
        headerTintColor: "#000",
        headerBackTitleVisible: false
      }}{% endraw %}
    >
      <Stack.Screen name="MainPage" component={MainPage}/>
      <Stack.Screen name="DetailPage" component={DetailPage}/>
      <Stack.Screen name="AboutPage" component={AboutPage} options={% raw %}{{
        title: "ì†Œê°œ í˜ì´ì§€",
        headerStyle: {
          backgroundColor: "#001064",
          borderBottomColor: "#001064",
          shadowColor: "#001064",
        },
        headerTintColor: "#fff"
        }}{% endraw %}/>
      <Stack.Screen name="LikePage" component={LikePage} options={% raw %}{{title: "ê¿€íŒ ì°œ"}}{% endraw %}/>
    </Stack.Navigator>
  )
}

export default StackNavigator;
```

```js
// LikeCard.js
import React from 'react';
import {View, Image, Text, StyleSheet, TouchableOpacity} from 'react-native'

export default function LikeCard({content,navigation}){
  return(
    <TouchableOpacity style={styles.card} onPress={()=>{navigation.navigate('DetailPage',content)}}>
      <Image style={styles.cardImage} source={% raw %}{{uri:content.image}}{% endraw %}/>
      <View style={styles.cardText}>
        <Text style={styles.cardTitle} numberOfLines={1}>{content.title}</Text>
        <Text style={styles.cardDesc} numberOfLines={3}>{content.desc}</Text>
        <Text style={styles.cardDate}>{content.date}</Text>
      </View>
    </TouchableOpacity>
  )
}

const styles = StyleSheet.create({
  card:{
    flex:1,
    flexDirection:"row",
    margin:10,
    borderBottomWidth:0.5,
    borderBottomColor:"#eee",
    paddingBottom:10
  },
  cardImage: {
    flex:1,
    width:100,
    height:100,
    borderRadius:10,
  },
  cardText: {
    flex:2,
    flexDirection:"column",
    marginLeft:10,
  },
  cardTitle: {
    fontSize:20,
    fontWeight:"700"
  },
  cardDesc: {
    fontSize:15
  },
  cardDate: {
    fontSize:10,
    color:"#A6A6A6",
  }
});
```

```js
// LikePage.js
import React, { useState, useEffect } from 'react';
import { StyleSheet, View, ScrollView } from 'react-native';
import LikeCard from '../components/LikeCard';

export default function LikePage({navigation}) {

  const [tip, setTip] = useState([{
    "idx":3,
    "category":"ì¬í…Œí¬",
    "title":"ì ìëŠ” ë‚´ ëˆì„ ì°¾ì•„ë¼",
    "image": "https://firebasestorage.googleapis.com/v0/b/sparta-image.appspot.com/o/lecture%2Fmoney1.png?alt=media&token=491096e7-0b57-40a3-991b-b984193f8018",
    "desc":"â€˜ìƒˆëŠ” ëˆâ€™ì—ëŠ” ë¯¸ì²˜ ëª°ëë˜ ...",
    "date":"2020.09.09"
  },
  {
    "idx":4,
    "category":"ì¬í…Œí¬",
    "title":"í• ì¸í–‰ì‚¬, í•œì •í• ì¸íŒë§¤ ë¬¸êµ¬ì˜ í•¨ì • íƒˆì¶œ!",
    "image": "https://firebasestorage.googleapis.com/v0/b/sparta-image.appspot.com/o/lecture%2Fmoney2.png?alt=media&token=9c9df304-16e8-4a6f-8ae4-1d3f9ad58134",
    "desc":"â€˜ì•ˆ ì‚¬ë©´ 100% í• ì¸â€™ì´ë¼ëŠ” ...",
    "date":"2020.09.09"
  }])

  return (
    <ScrollView style={styles.container}>
      <View style={styles.cardContainer}>
        {
          tip.map((content,i)=>{
            return (<LikeCard content={content} key={i} navigation={navigation}/>)
          })
        }
      </View>
    </ScrollView>
  )
}

const styles = StyleSheet.create({
  cardContainer: {
    marginTop:10,
    marginLeft:10
  }
})
```

<br>

### 4) ğŸ¤” QnA

ìƒê°ê³¼ëŠ” ë‹¬ë¦¬ êµ¬í˜„ì— ê½¤ë‚˜ ì• ë¥¼ ë¨¹ì—ˆëŠ”ë°, ê° íƒœê·¸ì˜ ì†ì„±ê³¼ ë„¤ë¹„ê²Œì´í„°ì— ëŒ€í•œ ì´í•´ê°€ ë¶€ì¡±í–ˆë˜ ë•Œë¬¸ì¸ ê²ƒ ê°™ë‹¤. í—·ê°ˆë ¸ë˜ ë¶€ë¶„ê³¼ ë‹¤ì‹œ ê¸°ì–µí•  ë¶€ë¶„ì„ ì •ë¦¬í•´ë³´ì. 
<br>

âœ… íŒŒì¼ ì´ë¦„ê³¼ íŒŒì¼ì˜ í•¨ìˆ˜ ì´ë¦„ì€ ê°™ì•„ì•¼ í•œë‹¤.

<br>

---

â˜‘ï¸ ì²˜ìŒì—” ì•„ë˜ ì½”ë“œì²˜ëŸ¼ ë°˜ë³µë¬¸ ì—†ì´ `<LikeCard>` íƒœê·¸ë§Œ ì‚¬ìš©í•˜ë ¤ê³  í–ˆì—ˆë‹¤. ê³ ìœ ì˜ `key` ê°’ì€ ë°˜ë³µë¬¸ì—ì„œ í•„ìˆ˜ì ì´ì—ˆìœ¼ë¯€ë¡œ `key` ì†ì„±ì€ ì œì™¸í–ˆë‹¤. ê·¸ëŸ°ë° í™”ë©´ì— í—¤ë”ë§Œ ëœ¨ê³  ë°ì´í„°ëŠ” ë‚˜ì˜¤ì§€ ì•Šì•˜ë‹¤. 

```js
// LikePage.js
// ìˆ˜ì • ì „
<ScrollView style={styles.container}>
  <View style={styles.cardContainer}>
    <LikeCard content={content} navigation={navigation}/>
  </View>
</ScrollView>


// ìˆ˜ì • í›„
<ScrollView style={styles.container}>
  <View style={styles.cardContainer}>
    {
      tip.map((content,i)=>{
        return (<LikeCard content={content} key={i} navigation={navigation}/>)
      })
    }
  </View>
</ScrollView>
```
<br>

âœ… ìƒê°í•´ë³´ë‹ˆ, í•˜ë‚˜ ì´ìƒì˜ ë°ì´í„°ë¥¼ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥í•˜ë ¤ë©´ ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•´ì•¼ í–ˆë‹¤. ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•˜ë˜, ë°˜ë³µë¬¸ì„ ëŒë¦´ arrayë¥¼ `tip`ìœ¼ë¡œ ì„¤ì •í•˜ê¸°ë§Œ í•˜ë©´ í•´ê²°ë˜ëŠ” ë¬¸ì œì˜€ë‹¤. ì‚¬ì‹¤ ì²˜ìŒì— `useState` parameter, ì¦‰ `tip` ë³€ìˆ˜ì˜ ì´ˆê¸°ê°’ì„ ë¦¬ìŠ¤íŠ¸(array)ê°€ ì•„ë‹Œ ë”•ì…”ë„ˆë¦¬(object) í˜•íƒœë¡œ ì˜ëª» ë³¸ ê²ƒì´ í° ê²ƒ ê°™ë‹¤. ë¬´ì˜ì‹ì¤‘ì— 'ë”•ì…”ë„ˆë¦¬ë¥¼ ë°˜ë³µë¬¸ìœ¼ë¡œ ì–´ë–»ê²Œ ëŒë¦¬ì§€...?'ë¼ëŠ” ìƒê°ìœ¼ë¡œ ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²ƒ ê°™ë‹¤. ì•ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” `map` methodë¡œ ë°˜ë³µë¬¸ì„ ì´ìš©í•˜ë©´ì„œ ë°˜ë³µë¬¸ ëŒë¦´ arrayë¥¼ ì˜ ì²´í¬í•˜ì!

<br>

---

â˜‘ï¸ `LikeCard.js` íŒŒì¼ì—ì„œ `LikeCard` í•¨ìˆ˜ì˜ parameterë¡œ `{tip, navigation}`ì„ ì£¼ë ¤ê³  í–ˆì—ˆë‹¤.
<br>

âœ… parameterë¡œ ì£¼ì–´ì§€ëŠ” ê²ƒì€ ì „ë‹¬ë°›ì€ ì†ì„±ì˜ ì´ë¦„ì´ë‹¤. `Card.js` íŒŒì¼ë„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ, `MainPage.js`ì—ì„œ ë°˜ë³µë¬¸ì„ ëŒë¦´ ë•Œ `content` ì†ì„±ì„ ì „ë‹¬ë°›ì•„ ì‚¬ìš©í–ˆì—ˆë‹¤. ì•„ë˜ ì½”ë“œë¡œ ê°œë…ì„ ë‹¤ì‹œ ì •ë¦¬í•´ë³´ì.

```js
// MainPage.js
// cateState arrayì˜ ê° ì›ì†Œë¥¼ contentë¼ëŠ” ë³€ìˆ˜ëª…ìœ¼ë¡œ ì„¤ì •í•˜ê³  ê°™ì€ ì´ë¦„ì˜ ì†ì„±/ì†ì„±ê°’ ì „ë‹¬
<View style={styles.cardContainer}>
  {
    cateState.map((content,i)=>{
      return (<Card content={content} key={i} navigation={navigation}/>)
    })
  }
</View>


// Card.js
// MainPage.jsì˜ <Card> íƒœê·¸ì—ì„œ ì§€ì •í•œ 'content' ì†ì„±ì„ parameterë¡œ ë°›ì•„ ì‚¬ìš©
// 'content' ì†ì„±ì€ `cateState`ì˜ ê° elementê°’(ì–˜ ì´ë¦„ë„ content)ì„ ë‹´ê³  ìˆìŒ
export default function Card({content,navigation}){
  return(
    <TouchableOpacity style={styles.card} onPress={()=>{navigation.navigate('DetailPage',content)}}>
      <Image style={styles.cardImage} source={% raw %}{{uri:content.image}}{% endraw %}/>
      <View style={styles.cardText}>
        <Text style={styles.cardTitle} numberOfLines={1}>{content.title}</Text>
        ...
  )}
```

<br>

### 5) í•´ì„¤ ì½”ë“œ

```js
// LikePage.js
import React, { useState, useEffect } from 'react';
import { StyleSheet, View, ScrollView } from 'react-native';
import LikeCard from '../components/LikeCard';
import Card from '../components/Card';

export default function LikePage({navigation, route}){
```
`Card.js` componentë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒ, ê·¸ë¦¬ê³  `LikePage` í•¨ìˆ˜ parameterë¡œ `route`ë¥¼ ë„˜ê²¨ì£¼ëŠ” ê²ƒ ëª¨ë‘ ì¶”í›„ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ë•Œ í•„ìš”í•œ í¬ì¸íŠ¸ë‹¤. ì½”ë“œë¥¼ ì§¤ ë•Œ ì´ìš©ë˜ì§€ ì•Šì•„ì„œ ì“°ì§€ëŠ” ì•Šì•˜ì§€ë§Œ, ì•ìœ¼ë¡œ ì“°ì¼ ë°ì´í„°ë‹ˆê¹Œ ë¯¸ë¦¬ ì…ë ¥í•´ë‘ì!

<br>


[1]: https://reactnavigation.org/docs/headers/