---
title:  "ë‚´ì¼ë°°ì›€ë‹¨ Web4.2"
categories: SpartaWeb
toc: true
toc_sticky: true
sidebar:
    nav: docs
---

# [ì›¹ê°œë°œ ì¢…í•©ë°˜] 4ì£¼ 1ì¼ì°¨ ê°œë°œì¼ì§€(4ì£¼ 6-9ê°•)

<br>

## ğŸ’»TIL Web.402

## 1. 'ëª¨ë‘ì˜ ì±…ë¦¬ë·°' í”„ë¡œì íŠ¸ ì„¸íŒ…

`bookreview` í´ë”ì— `templates`, `static` í´ë”ì™€ `app.py` íŒŒì¼ì„ ìƒì„±í•œ í›„, `templates` í´ë”ì— `index.html` íŒŒì¼ê¹Œì§€ ë§Œë“ ë‹¤. ë˜í•œ, `app.py`ì™€ `index.html` íŒŒì¼ì— ì•„ë˜ ì‹œì‘ ì½”ë“œë¥¼ ë¶™ì—¬ë„£ëŠ”ë‹¤.

```py
from flask import Flask, render_template, jsonify, request
app = Flask(__name__)

from pymongo import MongoClient
client = MongoClient('localhost', 27017)
db = client.dbsparta

## HTMLì„ ì£¼ëŠ” ë¶€ë¶„
@app.route('/')
def home():
  return render_template('index.html')

## API ì—­í• ì„ í•˜ëŠ” ë¶€ë¶„
@app.route('/review', methods=['POST'])
def write_review():
  sample_receive = request.form['sample_give']
  print(sample_receive)
  return jsonify({'msg': 'ì´ ìš”ì²­ì€ POST!'})


@app.route('/review', methods=['GET'])
def read_reviews():
  sample_receive = request.args.get('sample_give')
  print(sample_receive)
  return jsonify({'msg': 'ì´ ìš”ì²­ì€ GET!'})


if __name__ == '__main__':
  app.run('0.0.0.0', port=5000, debug=True)
```
<br>

```html
<!DOCTYPE html>
<html lang="ko">
  <head>
    <!-- Webpage Title -->
    <title>ëª¨ë‘ì˜ ì±…ë¦¬ë·° | ìŠ¤íŒŒë¥´íƒ€ì½”ë”©í´ëŸ½</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous">

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"></script>

    <!-- êµ¬ê¸€í°íŠ¸ -->
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon&display=swap" rel="stylesheet">

    <script type="text/javascript">

      $(document).ready(function() {
        showReview();
      });

      function makeReview() {
        $.ajax({
          type: "POST",
          url: "/review",
          data: {sample_give:'ìƒ˜í”Œë°ì´í„°'},
          success: function (response) {
            alert(response["msg"]);
            window.location.reload();
          }
        })
      }

      function showReview() {
        $.ajax({
          type: "GET",
          url: "/review?sample_give=ìƒ˜í”Œë°ì´í„°",
          data: {},
          success: function (response) {
            alert(response["msg"]);
          }
        })
      }
    </script>

    <style type="text/css">
      * {
        font-family: "Do Hyeon", sans-serif;
      }

      h1,
      h5 {
        display: inline;
      }

      .info {
        margin-top: 20px;
        margin-bottom: 20px;
      }

      .review {
        text-align: center;
      }

      .reviews {
        margin-top: 100px;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <img src="https://i.pinimg.com/originals/71/b8/f0/71b8f0548e938fbffb62e1e69b834f9e.jpg"
      class="img-fluid" alt="Responsive image">
      <div class="info">
        <h1>ì½ì€ ì±…ì— ëŒ€í•´ ë§ì”€í•´ì£¼ì„¸ìš”.</h1>
        <p>ë‹¤ë¥¸ ì‚¬ëŒì„ ìœ„í•´ ë¦¬ë·°ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”! ë‹¤ ê°™ì´ ì¢‹ì€ ì±…ì„ ì½ëŠ”ë‹¤ë©´ ë‹¤ í•¨ê»˜ í–‰ë³µí•´ì§ˆ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œìš”?</p>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">ì œëª©</span>
          </div>
          <input type="text" class="form-control" id="title">
        </div>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">ì €ì</span>
          </div>
          <input type="text" class="form-control" id="author">
        </div>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">ë¦¬ë·°</span>
          </div>
          <textarea class="form-control" id="bookReview"
                    cols="30"
                    rows="5" placeholder="140ìê¹Œì§€ ì…ë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."></textarea>
        </div>
        <div class="review">
          <button onclick="makeReview()" type="button" class="btn btn-primary">ë¦¬ë·° ì‘ì„±í•˜ê¸°</button>
        </div>
      </div>
      <div class="reviews">
        <table class="table">
          <thead>
          <tr>
            <th scope="col">ì œëª©</th>
            <th scope="col">ì €ì</th>
            <th scope="col">ë¦¬ë·°</th>
          </tr>
          </thead>
          <tbody id="reviews-box">
          <tr>
            <td>ì™•ì´ˆë³´ 8ì£¼ ì½”ë”©</td>
            <td>ê¹€ë¥´íƒ„</td>
            <td>ì—­ì‹œ ì™•ì´ˆë³´ ì½”ë”©êµìœ¡ì˜ ëª…ê°€ë‹µêµ°ìš”. ë”°ë¼í•˜ë‹¤ë³´ë‹ˆ ëˆˆ ê¹œì§í•  ì‚¬ì´ì— 8ì£¼ê°€ ì§€ë‚¬ìŠµë‹ˆë‹¤.</td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
```