---
layout: single
classes: wide
title:  "30 Days Of JavaScript.9E"
categories: JavaScript
tags: [30DaysOfJS, JSexercise]
author_profile: false
sidebar:
    nav: docs
---


# [Day 9. Higher Order Function_Exercise][1]
<br>

[Level 1][2]  /  [Level 2][3]  /  [Level 3][4]

<br>

## ðŸ‘ŸLevel 1.

```js
const countries = ['Finland', 'Sweden', 'Denmark', 'Norway', 'IceLand']
const names = ['Asabeneh', 'Mathias', 'Elias', 'Brook']
const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
const products = [
  { product: 'banana', price: 3 },
  { product: 'mango', price: 6 },
  { product: 'potato', price: ' ' },
  { product: 'avocado', price: 8 },
  { product: 'coffee', price: 10 },
  { product: 'tea', price: '' },
]
```
<br>

##### 1) Explain the difference between forEach, map, filter, and reduce.
<br>

+ `forEach()` executes the given function, iterating through the elements of an array.

+ `map()` iterates and modifies an array, implementing the given function.

+ `filter()` filters the elements of an array by the given condition at the parameter.

+ `reduce()` executes certain function, running through element by element in an array and returning a single value.

<br>

---

<br>

**Define a callback function before you use it in forEach, map, filter or reduce.**

<br>

##### 3) Use `forEach` to console.log each country in the countries array.

```js
//function declaration
countries.forEach(function (country) {
  console.log(country)
})

//arrow function implicit return
countries.forEach((country) => console.log(country));
```
<br>

##### 4) Use `forEach` to console.log each name in the names array.

```js
names.forEach((name) => console.log(name));
```
<br>

##### 5) Use `forEach` to console.log each number in the numbers array.

```js
numbers.forEach((num) => console.log(num));
```
<br>

##### 6) Use `map` to create a new array by changing each country to uppercase in the countries array.

```js
//defining callback function
function upperCase(str) {
  return str.toUpperCase();  
}
const upperCaseCountries = countries.map((country) => upperCase(country));

console.log(upperCaseCountries);
// (5)Â ['FINLAND', 'SWEDEN', 'DENMARK', 'NORWAY', 'ICELAND']


//using arrow function
const upperCaseCountries = countries.map((country) => country.toUpperCase());

console.log(upperCaseCountries);
```
<br>

##### 7) Use `map` to create an array of countries length from countries array.

```js
function getLength(str) {
  return str.length;
}
const lengthOfCountries = countries.map((country) => 
  getLength(country));

console.log(lengthOfCountries);  // (5)Â [7, 6, 7, 6, 7]
```
<br>

##### 8) Use `map` to create a new array by changing each number to square in the numbers array.

```js
function square(num) {
  return num * num;
}
const squareNum = numbers.map((num) => {
  return square(num);
});

console.log(squareNum);
// (10)Â [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]
```
<br>

##### 9) Use `map` to change to each name to uppercase in the names array.

```js
function upperCase(str) {
  return str.toUpperCase();
}
const upperCaseName = names.map((name) => {
  return upperCase(name)
});

console.log(upperCaseName);
// (4)Â ['ASABENEH', 'MATHIAS', 'ELIAS', 'BROOK']
```
I omitted the `return` keyword at line 2, and the resulting elements of the array were all 'undefined'.

> Be sure to write `return` when using function declaration! When using arrow function, I can skip `return` keyword(implicit return).

<br>

##### 10) Use `map` to map the products array to its corresponding prices.

+ First approach(X)

```js
function getPrice(name) {
  for (let i = 0; i < products.length; i++) {
    if (products[i].product === name) {
    return products[i].price;
    }
  }
}

const prices = products.map((name) => getPrice(name));
console.log(prices);
```

<br>

+ **Problem 01. Setting a function**

I struggled, trying to use `forEach` for the `getPrice` function. So at my first answer above, I just used `for loop`. But I now know that using `for` all the time wouldn't be efficient. At first, I tried to add a condition inside the `forEach` method like below.
```js
function getPrice(name) {
  products.forEach((element) => {
    if (element.product === name) {
      return element.price;
    }
  })
}

getPrice('banana');  // undefined
```
<br>

It didn't work, so I searched [stackflow][5] and found a comment that **I shouldn't use `return` in `forEach()`**. `forEach` doesn't return anything. I thought `return` would work because it was anyway inside the function. Well, it didn't work so I changed `return` to `console.log` and the function worked.

```js
function getPrice(name) {
  products.forEach((element) => {
    if (element.product === name) {
      return element.price;
    }
  })
}

getPrice('banana');  // 3
```

<br>
---

+ **Problem 02. Setting parameters in `map()`**

At my initial approach, after I compromised to use `for loop`, I was having trouble with printing out the array at this part.

```js
const prices = products.map((name) => getPrice(name);
console.log(prices);
```
<br>
It would just return an array filled with 'undefined'. I first thought it was the problem of the function, but it was not. I had to think through what the function is doing with the parameter. The parameter I'm going to pass is each element of the `products` array, which is an object. The function `getPrice` is designed to take a product name as a parameter and return the price of that product.<br>

So if I just pass `name` to the function `getPrice`, an object containing two key-value pairs will be passed as a parameter. To modify the object into the value of that object, I used dot notation like below.
```js
const prices = products.map((element) => getPrice(element.product));
console.log(prices);
```
<br>

---

+ Second approach: using for loop (O)

```js
function getPrice(name) {
  for (let i = 0; i < products.length; i++) {
    if (products[i].product === name) {
    return products[i].price;
    }
  }
}

const prices = products.map((element) => getPrice(element.product));
console.log(prices);
// (6)Â [3, 6, ' ', 8, 10, '']
```

<br>

+ Second approach: using `forEach()` (X)

```js
function getPrice(name) {
  let price;
  products.forEach((element) => {
    if (element.product === name) {
      let price = element.price;
    }
  })
  return price;
}

const prices = products.map((element) => getPrice(element.product));
console.log(prices);
```

Writing the last code, I encountered another problem. The function using `forEach()` couldn't use return inside `forEach()`, so I had to think of another way.<br>

I first put `let price = element.price` inside `if`, but got an error that 'price' wasn't defined. So, I defined 'price' before `forEach()` and tried to return the value after `forEach()` ends. It didn't work.<br>

The problem was that, I should have wrote `price = element.price` rather than `let price = element.price`. `let` would just assign a new variable. To change the value, I had to use only the assigning operatior(=) without `let`.

<br>

+ Final approach: using `forEach()` (O)

```js
function getPrice(name) {
  let price;
  products.forEach((element) => {
    if (element.product === name) {
      price = element.price;
    }
  })
  return price;
}

const prices = products.map((element) => getPrice(element.product));
console.log(prices);
// (6)Â [3, 6, ' ', 8, 10, '']
```

<br>

##### 11) Use `filter` to filter out countries containing land.

<br>

##### 12) Use `filter` to filter out countries having six character.

<br>

##### 13) Use `filter` to filter out countries containing six letters and more in the country array.

<br>

##### 14) Use `filter` to filter out country start with 'E'.

<br>

##### 15) Use `filter` to filter out only prices with values.

<br>

##### 16) Declare a function called getStringLists which takes an array as a parameter and then returns an array only with string items.












[1]: https://github.com/yendoz/30-Days-Of-JavaScript/blob/master/09_Day_Higher_order_functions/09_day_higher_order_functions.md#-exercises
[2]: https://yendoz.github.io/javascript/js9ex/#level-1
[3]: https://yendoz.github.io/javascript/js9ex/#level-2
[4]: https://yendoz.github.io/javascript/js9ex/#level-3
[5]: https://stackoverflow.com/questions/38274001/if-condition-inside-foreachs-anonymous-function-does-not-work
